# generated by nickel/preview_deploy.ncl; do not manually edit
jobs:
  deploy:
    name: deploy
    runs-on: ubuntu-latest
    steps:
    - name: download dist
      uses: actions/download-artifact@v4
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        name: ${{ inputs.example }}
        path: dist
        run-id: ${{ inputs.parent_workflow_id }}
    - name: deploy
      uses: JamesIves/github-pages-deploy-action@v4
      with:
        branch: pr_previews
        commit-message: https://github.com/databasedav/haalka/pull/${{ inputs.pr }}/commits/${{ github.sha }}
        folder: dist
        target-folder: '"${{ inputs.pr }}/${{ inputs.example }}"'
        token: ${{ secrets.token }}
name: preview_deploy
on:
  workflow_call:
    inputs:
      example:
        required: true
        type: string
      parent_workflow_id:
        required: true
        type: string
      pr:
        required: true
        type: number
    secrets:
      token:
        required: true
